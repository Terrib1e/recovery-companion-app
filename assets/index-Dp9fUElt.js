var Ut=Object.defineProperty;var Ht=(e,t,o)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Ie=(e,t,o)=>Ht(e,typeof t!="symbol"?t+"":t,o);import{j as r,S as Kt,O as Ve,C as Be,a as $t,X as Wt,T as Ge,D as Ue,P as Yt,R as Jt,b as qt,c as W,u as Xt,d as He,e as ee,f as Ke,g as G,h as Zt,i as $e,U as Qt,k as er,l as tr,M as rr,m as or,n as We,H as Ye,L as Je,A as le,B as ge,o as pe,p as sr,q as Pe,r as nr,s as ar,t as ir,v as lr,w as cr,I as dr,E as ur,x as mr,y as gr}from"./ui-DpU_d5p5.js";import{a as pr,r as d,d as qe,c as je,e as fr,L as hr,C as xr,X as br,Y as yr,T as vr,f as wr,g as Te}from"./vendor--a15yxdS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();var fe={},De=pr;fe.createRoot=De.createRoot,fe.hydrateRoot=De.hydrateRoot;const Xe=d.createContext(void 0),Ze=({children:e})=>{const[t,o]=d.useState(()=>{const i=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return i||s});d.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const n=()=>{o(i=>i==="light"?"dark":"light")};return r.jsx(Xe.Provider,{value:{theme:t,toggleTheme:n},children:e})},Se=()=>{const e=d.useContext(Xe);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Me=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ze=qe,Ne=(e,t)=>o=>{var n;if((t==null?void 0:t.variants)==null)return ze(e,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(m=>{const h=o==null?void 0:o[m],g=s==null?void 0:s[m];if(h===null)return null;const p=Me(h)||Me(g);return i[m][p]}),l=o&&Object.entries(o).reduce((m,h)=>{let[g,p]=h;return p===void 0||(m[g]=p),m},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,h)=>{let{class:g,className:p,...b}=h;return Object.entries(b).every(w=>{let[c,f]=w;return Array.isArray(f)?f.includes({...s,...l}[c]):{...s,...l}[c]===f})?[...m,g,p]:m},[]);return ze(e,a,u,o==null?void 0:o.class,o==null?void 0:o.className)},ke="-",jr=e=>{const t=Nr(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(ke);return l[0]===""&&l.length!==1&&l.shift(),Qe(l,t)||Sr(a)},getConflictingClassGroupIds:(a,l)=>{const u=o[a]||[];return l&&n[a]?[...u,...n[a]]:u}}},Qe=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const o=e[0],n=t.nextPart.get(o),i=n?Qe(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(ke);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Oe=/^\[(.+)\]$/,Sr=e=>{if(Oe.test(e)){const t=Oe.exec(e)[1],o=t==null?void 0:t.substring(0,t.indexOf(":"));if(o)return"arbitrary.."+o}},Nr=e=>{const{theme:t,prefix:o}=e,n={nextPart:new Map,validators:[]};return Cr(Object.entries(e.classGroups),o).forEach(([s,a])=>{he(a,n,s,t)}),n},he=(e,t,o,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Le(t,i);s.classGroupId=o;return}if(typeof i=="function"){if(kr(i)){he(i(n),t,o,n);return}t.validators.push({validator:i,classGroupId:o});return}Object.entries(i).forEach(([s,a])=>{he(a,Le(t,s),o,n)})})},Le=(e,t)=>{let o=e;return t.split(ke).forEach(n=>{o.nextPart.has(n)||o.nextPart.set(n,{nextPart:new Map,validators:[]}),o=o.nextPart.get(n)}),o},kr=e=>e.isThemeGetter,Cr=(e,t)=>t?e.map(([o,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[o,i]}):e,Er=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,o=new Map,n=new Map;const i=(s,a)=>{o.set(s,a),t++,t>e&&(t=0,n=o,o=new Map)};return{get(s){let a=o.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){o.has(s)?o.set(s,a):i(s,a)}}},et="!",Rr=e=>{const{separator:t,experimentalParseClassName:o}=e,n=t.length===1,i=t[0],s=t.length,a=l=>{const u=[];let m=0,h=0,g;for(let f=0;f<l.length;f++){let x=l[f];if(m===0){if(x===i&&(n||l.slice(f,f+s)===t)){u.push(l.slice(h,f)),h=f+s;continue}if(x==="/"){g=f;continue}}x==="["?m++:x==="]"&&m--}const p=u.length===0?l:l.substring(h),b=p.startsWith(et),w=b?p.substring(1):p,c=g&&g>h?g-h:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:c}};return o?l=>o({className:l,parseClassName:a}):a},Ar=e=>{if(e.length<=1)return e;const t=[];let o=[];return e.forEach(n=>{n[0]==="["?(t.push(...o.sort(),n),o=[]):o.push(n)}),t.push(...o.sort()),t},Ir=e=>({cache:Er(e.cacheSize),parseClassName:Rr(e),...jr(e)}),Pr=/\s+/,Tr=(e,t)=>{const{parseClassName:o,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(Pr);let l="";for(let u=a.length-1;u>=0;u-=1){const m=a[u],{modifiers:h,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:b}=o(m);let w=!!b,c=n(w?p.substring(0,b):p);if(!c){if(!w){l=m+(l.length>0?" "+l:l);continue}if(c=n(p),!c){l=m+(l.length>0?" "+l:l);continue}w=!1}const f=Ar(h).join(":"),x=g?f+et:f,S=x+c;if(s.includes(S))continue;s.push(S);const y=i(c,w);for(let j=0;j<y.length;++j){const R=y[j];s.push(x+R)}l=m+(l.length>0?" "+l:l)}return l};function Dr(){let e=0,t,o,n="";for(;e<arguments.length;)(t=arguments[e++])&&(o=tt(t))&&(n&&(n+=" "),n+=o);return n}const tt=e=>{if(typeof e=="string")return e;let t,o="";for(let n=0;n<e.length;n++)e[n]&&(t=tt(e[n]))&&(o&&(o+=" "),o+=t);return o};function Mr(e,...t){let o,n,i,s=a;function a(u){const m=t.reduce((h,g)=>g(h),e());return o=Ir(m),n=o.cache.get,i=o.cache.set,s=l,l(u)}function l(u){const m=n(u);if(m)return m;const h=Tr(u,o);return i(u,h),h}return function(){return s(Dr.apply(null,arguments))}}const k=e=>{const t=o=>o[e]||[];return t.isThemeGetter=!0,t},rt=/^\[(?:([a-z-]+):)?(.+)\]$/i,zr=/^\d+\/\d+$/,Or=new Set(["px","full","screen"]),Lr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_r=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Br=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,O=e=>q(e)||Or.has(e)||zr.test(e),_=e=>te(e,"length",Jr),q=e=>!!e&&!Number.isNaN(Number(e)),ue=e=>te(e,"number",q),se=e=>!!e&&Number.isInteger(Number(e)),Gr=e=>e.endsWith("%")&&q(e.slice(0,-1)),v=e=>rt.test(e),F=e=>Lr.test(e),Ur=new Set(["length","size","percentage"]),Hr=e=>te(e,Ur,ot),Kr=e=>te(e,"position",ot),$r=new Set(["image","url"]),Wr=e=>te(e,$r,Xr),Yr=e=>te(e,"",qr),ne=()=>!0,te=(e,t,o)=>{const n=rt.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):o(n[2]):!1},Jr=e=>_r.test(e)&&!Fr.test(e),ot=()=>!1,qr=e=>Vr.test(e),Xr=e=>Br.test(e),Zr=()=>{const e=k("colors"),t=k("spacing"),o=k("blur"),n=k("brightness"),i=k("borderColor"),s=k("borderRadius"),a=k("borderSpacing"),l=k("borderWidth"),u=k("contrast"),m=k("grayscale"),h=k("hueRotate"),g=k("invert"),p=k("gap"),b=k("gradientColorStops"),w=k("gradientColorStopPositions"),c=k("inset"),f=k("margin"),x=k("opacity"),S=k("padding"),y=k("saturate"),j=k("scale"),R=k("sepia"),V=k("skew"),Y=k("space"),ie=k("translate"),oe=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",v,t],N=()=>[v,t],D=()=>["",O,_],B=()=>["auto",q,v],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",v],Ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[q,v];return{cacheSize:500,separator:":",theme:{colors:[ne],spacing:[O,_],blur:["none","",F,v],brightness:z(),borderColor:[e],borderRadius:["none","","full",F,v],borderSpacing:N(),borderWidth:D(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[Gr,_],inset:E(),margin:E(),opacity:z(),padding:N(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",v]}],container:["container"],columns:[{columns:[F]}],"break-after":[{"break-after":Ae()}],"break-before":[{"break-before":Ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),v]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[c]}],"inset-x":[{"inset-x":[c]}],"inset-y":[{"inset-y":[c]}],start:[{start:[c]}],end:[{end:[c]}],top:[{top:[c]}],right:[{right:[c]}],bottom:[{bottom:[c]}],left:[{left:[c]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",se,v]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",v]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",se,v]}],"grid-cols":[{"grid-cols":[ne]}],"col-start-end":[{col:["auto",{span:["full",se,v]},v]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ne]}],"row-start-end":[{row:["auto",{span:[se,v]},v]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",v]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",v]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[Y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",v,t]}],"min-w":[{"min-w":[v,t,"min","max","fit"]}],"max-w":[{"max-w":[v,t,"none","full","min","max","fit","prose",{screen:[F]},F]}],h:[{h:[v,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[v,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[v,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[v,t,"auto","min","max","fit"]}],"font-size":[{text:["base",F,_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ue]}],"font-family":[{font:[ne]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",v]}],"line-clamp":[{"line-clamp":["none",q,ue]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",O,v]}],"list-image":[{"list-image":["none",v]}],"list-style-type":[{list:["none","disc","decimal",v]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",O,_]}],"underline-offset":[{"underline-offset":["auto",O,v]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",v]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",v]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Kr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Hr]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wr]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:P()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[O,v]}],"outline-w":[{outline:[O,_]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[O,_]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",F,Yr]}],"shadow-color":[{shadow:[ne]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",F,v]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[y]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",v]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",v]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",v]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[se,v]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",v]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",v]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",v]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[O,_,ue]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qr=Mr(Zr);function C(...e){return Qr(qe(e))}const eo=Ne("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),A=d.forwardRef(({className:e,variant:t,size:o,asChild:n=!1,...i},s)=>{const a=n?Kt:"button";return r.jsx(a,{className:C(eo({variant:t,size:o,className:e})),ref:s,...i})});A.displayName="Button";const to=Jt,ro=qt,oo=Yt,st=d.forwardRef(({className:e,...t},o)=>r.jsx(Ve,{ref:o,className:C("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));st.displayName=Ve.displayName;const nt=d.forwardRef(({className:e,children:t,...o},n)=>r.jsxs(oo,{children:[r.jsx(st,{}),r.jsxs(Be,{ref:n,className:C("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...o,children:[t,r.jsxs($t,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Wt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nt.displayName=Be.displayName;const at=({className:e,...t})=>r.jsx("div",{className:C("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});at.displayName="DialogHeader";const it=d.forwardRef(({className:e,...t},o)=>r.jsx(Ge,{ref:o,className:C("text-lg font-semibold leading-none tracking-tight",e),...t}));it.displayName=Ge.displayName;const so=d.forwardRef(({className:e,...t},o)=>r.jsx(Ue,{ref:o,className:C("text-sm text-muted-foreground",e),...t}));so.displayName=Ue.displayName;var no="Label",lt=d.forwardRef((e,t)=>r.jsx(W.label,{...e,ref:t,onMouseDown:o=>{var i;o.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));lt.displayName=no;var ct=lt;const ao=Ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=d.forwardRef(({className:e,...t},o)=>r.jsx(ct,{ref:o,className:C(ao(),e),...t}));xe.displayName=ct.displayName;function dt(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ut(e){const[t,o]=d.useState(void 0);return Xt(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,m=Array.isArray(u)?u[0]:u;a=m.inlineSize,l=m.blockSize}else a=e.offsetWidth,l=e.offsetHeight;o({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else o(void 0)},[e]),t}var Ce="Switch",[io,ts]=He(Ce),[lo,co]=io(Ce),mt=d.forwardRef((e,t)=>{const{__scopeSwitch:o,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:u="on",onCheckedChange:m,form:h,...g}=e,[p,b]=d.useState(null),w=ee(t,y=>b(y)),c=d.useRef(!1),f=p?h||!!p.closest("form"):!0,[x=!1,S]=Ke({prop:i,defaultProp:s,onChange:m});return r.jsxs(lo,{scope:o,checked:x,disabled:l,children:[r.jsx(W.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":ft(x),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:w,onClick:G(e.onClick,y=>{S(j=>!j),f&&(c.current=y.isPropagationStopped(),c.current||y.stopPropagation())})}),f&&r.jsx(uo,{control:p,bubbles:!c.current,name:n,value:u,checked:x,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});mt.displayName=Ce;var gt="SwitchThumb",pt=d.forwardRef((e,t)=>{const{__scopeSwitch:o,...n}=e,i=co(gt,o);return r.jsx(W.span,{"data-state":ft(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});pt.displayName=gt;var uo=e=>{const{control:t,checked:o,bubbles:n=!0,...i}=e,s=d.useRef(null),a=dt(o),l=ut(t);return d.useEffect(()=>{const u=s.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(a!==o&&g){const p=new Event("click",{bubbles:n});g.call(u,o),u.dispatchEvent(p)}},[a,o,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...i,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ft(e){return e?"checked":"unchecked"}var ht=mt,mo=pt;const xt=d.forwardRef(({className:e,...t},o)=>r.jsx(ht,{className:C("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:o,children:r.jsx(mo,{className:C("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));xt.displayName=ht.displayName;const go=Ne("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),U=d.forwardRef(({className:e,variant:t,...o},n)=>r.jsx("div",{ref:n,role:"alert",className:C(go({variant:t}),e),...o}));U.displayName="Alert";const ce=d.forwardRef(({className:e,...t},o)=>r.jsx("h5",{ref:o,className:C("mb-1 font-medium leading-none tracking-tight",e),...t}));ce.displayName="AlertTitle";const H=d.forwardRef(({className:e,...t},o)=>r.jsx("div",{ref:o,className:C("text-sm [&_p]:leading-relaxed",e),...t}));H.displayName="AlertDescription";function po(){const{theme:e,toggleTheme:t}=Se(),[o,n]=je.useState(!1),i=()=>{try{const a=localStorage.getItem("rc_progress")||"{}",l=new Blob([a],{type:"application/json"}),u=URL.createObjectURL(l),m=document.createElement("a");m.href=u,m.download=`recovery-companion-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u),n(!0)}catch(a){console.error("Error exporting data:",a)}},s=a=>{var m;const l=(m=a.target.files)==null?void 0:m[0];if(!l)return;const u=new FileReader;u.onload=h=>{var g;try{const p=(g=h.target)==null?void 0:g.result,b=JSON.parse(p);localStorage.setItem("rc_progress",JSON.stringify(b)),window.location.reload()}catch(p){console.error("Error importing data:",p)}},u.readAsText(l)};return r.jsxs(to,{children:[r.jsx(ro,{asChild:!0,children:r.jsxs(A,{variant:"ghost",size:"icon",children:[r.jsx(Zt,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Settings"})]})}),r.jsxs(nt,{className:"sm:max-w-[425px]",children:[r.jsx(at,{children:r.jsx(it,{children:"Settings"})}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(xe,{htmlFor:"theme-toggle",className:"flex flex-col gap-1.5",children:[r.jsx("span",{children:"Dark Theme"}),r.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"Toggle between light and dark mode"})]}),r.jsx(xt,{id:"theme-toggle",checked:e==="dark",onCheckedChange:t})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(xe,{className:"text-sm font-medium",children:"Data Management"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(A,{variant:"outline",onClick:i,className:"w-full justify-start",children:[r.jsx($e,{className:"mr-2 h-4 w-4"}),"Export Data"]}),r.jsxs(A,{variant:"outline",className:"w-full justify-start",onClick:()=>{var a;return(a=document.getElementById("import-file"))==null?void 0:a.click()},children:[r.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Import Data",r.jsx("input",{id:"import-file",type:"file",accept:".json",className:"hidden",onChange:s})]}),r.jsxs(A,{variant:"destructive",className:"w-full justify-start",onClick:()=>{window.confirm("Are you sure you want to clear all data? This cannot be undone.")&&(localStorage.clear(),window.location.reload())},children:[r.jsx(er,{className:"mr-2 h-4 w-4"}),"Clear All Data"]})]})]}),o&&r.jsx(U,{children:r.jsx(H,{children:"Data backup has been downloaded successfully."})})]})]})]})}const fo=()=>{const{theme:e,toggleTheme:t}=Se();return r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex h-14 items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-bold",children:"Recovery Companion"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(A,{variant:"ghost",size:"icon",onClick:t,className:"h-9 w-9",children:[e==="light"?r.jsx(tr,{className:"h-4 w-4"}):r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),r.jsx(po,{})]})]})})})},ho=({children:e})=>r.jsx(Ze,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(fo,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:e})]})});class xo{constructor(t){Ie(this,"config");this.config=t}async analyze(t,o){return this.getFallbackResponse(o)}getFallbackResponse(t){return{sentiment:{sentiment:Math.random()*.5,magnitude:Math.random()*.5,primaryEmotion:"neutral",secondaryEmotions:["hope"]},triggers:{identifiedTriggers:[],riskLevel:"low",confidenceScore:.5},recommendations:[{title:"Practice Deep Breathing",description:"Take slow, deep breaths to help calm your mind and body."},{title:"Reach Out to Support",description:"Connect with your support network or a professional."},{title:"Use Grounding Techniques",description:"Focus on your immediate surroundings using your senses."},{title:"Practice Self-Care",description:"Engage in activities that promote your wellbeing."}]}[t]}}const bo={model:"demo-mode",temperature:.7,maxTokens:1e3,apiVersion:"2024-02",endpoint:""},yo=new xo(bo),bt={isProcessing:!1,lastAnalysis:null,error:null,config:{model:"gpt-3.5-turbo",temperature:.7,maxTokens:100,apiVersion:"2024-02",endpoint:""}},yt=d.createContext(void 0);function vo(e,t){switch(t.type){case"START_PROCESSING":return{...e,isProcessing:!0,error:null};case"SET_ANALYSIS":return{...e,isProcessing:!1,lastAnalysis:t.payload,error:null};case"SET_ERROR":return{...e,isProcessing:!1,error:t.payload};case"RESET":return bt;default:return e}}function wo({children:e}){const[t,o]=d.useReducer(vo,bt),n=d.useCallback(async s=>{if(t.isProcessing)return console.log("Already processing, skipping new request"),null;console.log("Starting AI analysis..."),o({type:"START_PROCESSING"});try{const a=await yo.analyze(s,"sentiment");if(console.log("AI analysis result:",a),!a)throw new Error("Analysis result is null or undefined");return o({type:"SET_ANALYSIS",payload:a}),a}catch(a){throw console.error("AI analysis error:",a),o({type:"SET_ERROR",payload:a}),a}},[]),i=d.useCallback(()=>{o({type:"RESET"})},[]);return r.jsx(yt.Provider,{value:{state:t,analyzeContent:n,reset:i},children:e})}function vt(){const e=d.useContext(yt);if(!e)throw new Error("useAI must be used within an AIProvider");return e}const wt="rc_storage_key_v1";async function jt(e){const t=new TextEncoder,o=await crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t.encode("recovery-companion-salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function jo(e){try{const t=await jt(wt),o=new TextEncoder,n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,o.encode(e)),s=new Uint8Array(i),a=new Uint8Array(n.length+s.length);return a.set(n),a.set(s,n.length),btoa(String.fromCharCode(...a))}catch(t){throw console.error("Encryption error:",t),new Error("Failed to encrypt data")}}async function So(e){try{const t=await jt(wt),o=new TextDecoder,n=Uint8Array.from(atob(e),l=>l.charCodeAt(0)),i=n.slice(0,12),s=n.slice(12),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,s);return o.decode(a)}catch(t){throw console.error("Decryption error:",t),new Error("Failed to decrypt data")}}const ae="rc_";class No{async setItem(t,o){try{const n=await jo(JSON.stringify({data:o,timestamp:new Date().toISOString()}));localStorage.setItem(ae+t,n)}catch(n){throw console.error("Error storing data:",n),new Error("Failed to store data securely")}}async getItem(t){try{const o=localStorage.getItem(ae+t);if(!o)return null;const n=await So(o);return JSON.parse(n).data}catch(o){throw console.error("Error retrieving data:",o),new Error("Failed to retrieve data securely")}}async removeItem(t){try{localStorage.removeItem(ae+t)}catch(o){throw console.error("Error removing data:",o),new Error("Failed to remove data")}}async exportData(){const t={checkIns:await this.getItem("checkIns")||[],journalEntries:await this.getItem("journalEntries")||[],progress:await this.getItem("progress")||{},settings:await this.getItem("settings")||{theme:"light",notifications:!0,privacyMode:!1},lastUpdated:new Date().toISOString()};return JSON.stringify(t,null,2)}async importData(t){try{const o=JSON.parse(t);if(!o.checkIns||!o.journalEntries||!o.settings)throw new Error("Invalid data format");await this.setItem("checkIns",o.checkIns),await this.setItem("journalEntries",o.journalEntries),await this.setItem("progress",o.progress),await this.setItem("settings",o.settings)}catch(o){throw console.error("Error importing data:",o),new Error("Failed to import data")}}async clearAll(){try{Object.keys(localStorage).forEach(o=>{o.startsWith(ae)&&localStorage.removeItem(o)})}catch(t){throw console.error("Error clearing data:",t),new Error("Failed to clear data")}}async getStorageInfo(){return{used:Object.entries(localStorage).filter(([o])=>o.startsWith(ae)).reduce((o,[n,i])=>o+i.length*2,0),total:localStorage.quota||5*1024*1024}}}const me=new No;function St(e,t){const[o,n]=d.useState(t),[i,s]=d.useState(!0),[a,l]=d.useState(null);d.useEffect(()=>{(async()=>{try{s(!0);const g=await me.getItem(e);g!==null&&n(g)}catch(g){console.error("Error loading stored data:",g),l(g)}finally{s(!1)}})()},[e]);const u=d.useCallback(async h=>{try{s(!0),await me.setItem(e,h),n(h),l(null)}catch(g){console.error("Error updating stored data:",g),l(g)}finally{s(!1)}},[e]),m=d.useCallback(async()=>{try{s(!0),await me.removeItem(e),n(t),l(null)}catch(h){console.error("Error removing stored data:",h),l(h)}finally{s(!1)}},[e,t]);return{value:o,setValue:u,remove:m,loading:i,error:a}}const _e={dailyEntries:[],stats:{currentStreak:0,longestStreak:0,totalDays:0,averageMood:0,totalTriggers:0},lastUpdated:new Date().toISOString()},Nt=d.createContext(void 0);function ko({children:e}){const{value:t,setValue:o,loading:n,error:i}=St("progress",_e),s=d.useCallback(b=>{if(!b.length)return _e.stats;const w=b.reduce((y,j)=>y+j.mood,0),c=b.reduce((y,j)=>y+j.triggers,0);let f=0,x=0;const S=new Date().toDateString();for(let y=b.length-1;y>=0;y--){const j=new Date(b[y].date).toDateString(),R=y>0?new Date(b[y-1].date).toDateString():null;if(y===b.length-1&&j!==S||(f++,x=Math.max(x,f),R&&Math.floor((new Date(j).getTime()-new Date(R).getTime())/864e5)!==1))break}return{currentStreak:f,longestStreak:x,totalDays:b.length,averageMood:w/b.length,totalTriggers:c}},[]),a=d.useCallback(async b=>{if(!t)return;const w=[...t.dailyEntries,b],c=s(w);await o({dailyEntries:w,stats:c,lastUpdated:new Date().toISOString()})},[t,o,s]),l=d.useCallback(async()=>{if(!t)return;const b=s(t.dailyEntries);await o({...t,stats:b,lastUpdated:new Date().toISOString()})},[t,o,s]),u=d.useCallback(()=>(t==null?void 0:t.stats.currentStreak)||0,[t]),m=d.useCallback(()=>(t==null?void 0:t.stats.averageMood)||0,[t]),h=d.useCallback(()=>(t==null?void 0:t.stats.totalTriggers)||0,[t]),g=d.useCallback(async()=>t?JSON.stringify(t):"",[t]),p=d.useCallback(async b=>{try{const w=JSON.parse(b);await o(w)}catch(w){throw console.error("Error importing data:",w),new Error("Invalid import data format")}},[o]);return r.jsx(Nt.Provider,{value:{progress:t,loading:n,error:i,addEntry:a,updateStats:l,getStreak:u,getAverageMood:m,getTotalTriggers:h,exportData:g,importData:p},children:e})}function kt(){const e=d.useContext(Nt);if(e===void 0)throw new Error("useProgress must be used within a ProgressProvider");return e}const K=d.forwardRef(({className:e,...t},o)=>r.jsx("div",{ref:o,className:C("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const X=d.forwardRef(({className:e,...t},o)=>r.jsx("div",{ref:o,className:C("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const Z=d.forwardRef(({className:e,...t},o)=>r.jsx("h3",{ref:o,className:C("text-2xl font-semibold leading-none tracking-tight",e),...t}));Z.displayName="CardTitle";const Q=d.forwardRef(({className:e,...t},o)=>r.jsx("p",{ref:o,className:C("text-sm text-muted-foreground",e),...t}));Q.displayName="CardDescription";const $=d.forwardRef(({className:e,...t},o)=>r.jsx("div",{ref:o,className:C("p-6 pt-0",e),...t}));$.displayName="CardContent";const Ee=d.forwardRef(({className:e,...t},o)=>r.jsx("div",{ref:o,className:C("flex items-center p-6 pt-0",e),...t}));Ee.displayName="CardFooter";function Ct(e,[t,o]){return Math.min(o,Math.max(t,e))}var Co=d.createContext(void 0);function Eo(e){const t=d.useContext(Co);return e||t||"ltr"}var Et=["PageUp","PageDown"],Rt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],At={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},re="Slider",[be,Ro,Ao]=or(re),[It,rs]=He(re,[Ao]),[Io,de]=It(re),Pt=d.forwardRef((e,t)=>{const{name:o,min:n=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[n],value:h,onValueChange:g=()=>{},onValueCommit:p=()=>{},inverted:b=!1,form:w,...c}=e,f=d.useRef(new Set),x=d.useRef(0),y=a==="horizontal"?Po:To,[j=[],R]=Ke({prop:h,defaultProp:m,onChange:E=>{var D;(D=[...f.current][x.current])==null||D.focus(),g(E)}}),V=d.useRef(j);function Y(E){const N=Lo(j,E);T(E,N)}function ie(E){T(E,x.current)}function oe(){const E=V.current[x.current];j[x.current]!==E&&p(j)}function T(E,N,{commit:D}={commit:!1}){const B=Bo(s),J=Go(Math.round((E-n)/s)*s+n,B),P=Ct(J,[n,i]);R((M=[])=>{const I=zo(M,P,N);if(Vo(I,u*s)){x.current=I.indexOf(P);const L=String(I)!==String(M);return L&&D&&p(I),L?I:M}else return M})}return r.jsx(Io,{scope:e.__scopeSlider,name:o,disabled:l,min:n,max:i,valueIndexToChangeRef:x,thumbs:f.current,values:j,orientation:a,form:w,children:r.jsx(be.Provider,{scope:e.__scopeSlider,children:r.jsx(be.Slot,{scope:e.__scopeSlider,children:r.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...c,ref:t,onPointerDown:G(c.onPointerDown,()=>{l||(V.current=j)}),min:n,max:i,inverted:b,onSlideStart:l?void 0:Y,onSlideMove:l?void 0:ie,onSlideEnd:l?void 0:oe,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(i,j.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:N})=>{if(!l){const J=Et.includes(E.key)||E.shiftKey&&Rt.includes(E.key)?10:1,P=x.current,M=j[P],I=s*J*N;T(M+I,P,{commit:!0})}}})})})})});Pt.displayName=re;var[Tt,Dt]=It(re,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Po=d.forwardRef((e,t)=>{const{min:o,max:n,dir:i,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:u,onStepKeyDown:m,...h}=e,[g,p]=d.useState(null),b=ee(t,y=>p(y)),w=d.useRef(),c=Eo(i),f=c==="ltr",x=f&&!s||!f&&s;function S(y){const j=w.current||g.getBoundingClientRect(),R=[0,j.width],Y=Re(R,x?[o,n]:[n,o]);return w.current=j,Y(y-j.left)}return r.jsx(Tt,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:r.jsx(Mt,{dir:c,"data-orientation":"horizontal",...h,ref:b,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const j=S(y.clientX);a==null||a(j)},onSlideMove:y=>{const j=S(y.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:y=>{const R=At[x?"from-left":"from-right"].includes(y.key);m==null||m({event:y,direction:R?-1:1})}})})}),To=d.forwardRef((e,t)=>{const{min:o,max:n,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...m}=e,h=d.useRef(null),g=ee(t,h),p=d.useRef(),b=!i;function w(c){const f=p.current||h.current.getBoundingClientRect(),x=[0,f.height],y=Re(x,b?[n,o]:[o,n]);return p.current=f,y(c-f.top)}return r.jsx(Tt,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:r.jsx(Mt,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:c=>{const f=w(c.clientY);s==null||s(f)},onSlideMove:c=>{const f=w(c.clientY);a==null||a(f)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:c=>{const x=At[b?"from-bottom":"from-top"].includes(c.key);u==null||u({event:c,direction:x?-1:1})}})})}),Mt=d.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:u,...m}=e,h=de(re,o);return r.jsx(W.span,{...m,ref:t,onKeyDown:G(e.onKeyDown,g=>{g.key==="Home"?(a(g),g.preventDefault()):g.key==="End"?(l(g),g.preventDefault()):Et.concat(Rt).includes(g.key)&&(u(g),g.preventDefault())}),onPointerDown:G(e.onPointerDown,g=>{const p=g.target;p.setPointerCapture(g.pointerId),g.preventDefault(),h.thumbs.has(p)?p.focus():n(g)}),onPointerMove:G(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:G(e.onPointerUp,g=>{const p=g.target;p.hasPointerCapture(g.pointerId)&&(p.releasePointerCapture(g.pointerId),s(g))})})}),zt="SliderTrack",Ot=d.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,i=de(zt,o);return r.jsx(W.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});Ot.displayName=zt;var ye="SliderRange",Lt=d.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,i=de(ye,o),s=Dt(ye,o),a=d.useRef(null),l=ee(t,a),u=i.values.length,m=i.values.map(p=>Ft(p,i.min,i.max)),h=u>1?Math.min(...m):0,g=100-Math.max(...m);return r.jsx(W.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:h+"%",[s.endEdge]:g+"%"}})});Lt.displayName=ye;var ve="SliderThumb",_t=d.forwardRef((e,t)=>{const o=Ro(e.__scopeSlider),[n,i]=d.useState(null),s=ee(t,l=>i(l)),a=d.useMemo(()=>n?o().findIndex(l=>l.ref.current===n):-1,[o,n]);return r.jsx(Do,{...e,ref:s,index:a})}),Do=d.forwardRef((e,t)=>{const{__scopeSlider:o,index:n,name:i,...s}=e,a=de(ve,o),l=Dt(ve,o),[u,m]=d.useState(null),h=ee(t,S=>m(S)),g=u?a.form||!!u.closest("form"):!0,p=ut(u),b=a.values[n],w=b===void 0?0:Ft(b,a.min,a.max),c=Oo(n,a.values.length),f=p==null?void 0:p[l.size],x=f?_o(f,w,l.direction):0;return d.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${x}px)`},children:[r.jsx(be.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(W.span,{role:"slider","aria-label":e["aria-label"]||c,"aria-valuemin":a.min,"aria-valuenow":b,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:b===void 0?{display:"none"}:e.style,onFocus:G(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),g&&r.jsx(Mo,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:b},n)]})});_t.displayName=ve;var Mo=e=>{const{value:t,...o}=e,n=d.useRef(null),i=dt(t);return d.useEffect(()=>{const s=n.current,a=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&u){const m=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(m)}},[i,t]),r.jsx("input",{style:{display:"none"},...o,ref:n,defaultValue:t})};function zo(e=[],t,o){const n=[...e];return n[o]=t,n.sort((i,s)=>i-s)}function Ft(e,t,o){const s=100/(o-t)*(e-t);return Ct(s,[0,100])}function Oo(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Lo(e,t){if(e.length===1)return 0;const o=e.map(i=>Math.abs(i-t)),n=Math.min(...o);return o.indexOf(n)}function _o(e,t,o){const n=e/2,s=Re([0,50],[0,n]);return(n-s(t)*o)*o}function Fo(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Vo(e,t){if(t>0){const o=Fo(e);return Math.min(...o)>=t}return!0}function Re(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(o-e[0])}}function Bo(e){return(String(e).split(".")[1]||"").length}function Go(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}var Vt=Pt,Uo=Ot,Ho=Lt,Ko=_t;const we=d.forwardRef(({className:e,...t},o)=>r.jsxs(Vt,{ref:o,className:C("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Uo,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Ho,{className:"absolute h-full bg-primary"})}),r.jsx(Ko,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));we.displayName=Vt.displayName;const Fe=[{value:1,label:"Struggling",icon:r.jsx(le,{className:"w-6 h-6 text-red-500"}),description:"Having a very difficult time"},{value:2,label:"Challenging",icon:r.jsx(ge,{className:"w-6 h-6 text-orange-500"}),description:"Facing some difficulties"},{value:3,label:"Stable",icon:r.jsx(Ye,{className:"w-6 h-6 text-blue-500"}),description:"Managing well"},{value:4,label:"Good",icon:r.jsx(pe,{className:"w-6 h-6 text-green-500"}),description:"Feeling positive and strong"}],$o=()=>{const[e,t]=d.useState(2),[o,n]=d.useState(0),[i,s]=d.useState(!1);vt();const{addEntry:a}=kt(),{value:l,setValue:u}=St("lastCheckIn",null),m=l===new Date().toDateString(),h=Fe[e-1];d.useEffect(()=>{l&&l!==new Date().toDateString()&&(t(2),n(0))},[l]);const g=async()=>{s(!0);try{const p={date:new Date().toISOString(),mood:e,triggers:o,notes:`Mood: ${h.label}, Triggers: ${o}`};await a({date:p.date,mood:p.mood,triggers:p.triggers,notes:p.notes,activities:[]}),await u(new Date().toDateString())}catch(p){console.error("Error during check-in:",p)}finally{s(!1)}};return m?r.jsxs(K,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(We,{className:"w-6 h-6 text-primary"}),"Daily Check-in Complete"]}),r.jsx(Q,{children:"You've already checked in today"})]}),r.jsx($,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(U,{className:"bg-primary/10 border-primary/20",children:r.jsxs(H,{className:"flex items-center gap-2",children:[h.icon,r.jsxs("span",{children:["You reported feeling ",h.label.toLowerCase()," today"]})]})}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Your next check-in will be available tomorrow"})]})})]}):r.jsxs(K,{children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(Ye,{className:"w-6 h-6 text-primary"}),"Daily Check-in"]}),r.jsx(Q,{children:"How are you feeling today?"})]}),r.jsxs($,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.icon,r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:h.label}),r.jsx("div",{className:"text-sm text-muted-foreground",children:h.description})]})]}),r.jsx(we,{value:[e],min:1,max:4,step:1,onValueChange:([p])=>t(p),className:"w-full"}),r.jsx("div",{className:"flex justify-between text-sm text-muted-foreground",children:Fe.map(p=>r.jsx("div",{className:"text-center",children:p.value},p.value))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Number of triggers experienced today:"}),r.jsx(we,{value:[o],min:0,max:5,step:1,onValueChange:([p])=>n(p),className:"w-full"}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:[o," trigger",o!==1?"s":""," reported"]})]})]}),r.jsx(Ee,{children:r.jsx(A,{className:"w-full",onClick:g,disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Complete Check-in"})})]})},Wo=()=>{const{progress:e,loading:t,getStreak:o,exportData:n}=kt(),{theme:i}=Se(),s={mood:i==="dark"?"#60A5FA":"#3B82F6",triggers:i==="dark"?"#F87171":"#EF4444",text:i==="dark"?"#E5E7EB":"#374151",grid:i==="dark"?"#374151":"#E5E7EB"},a=(e==null?void 0:e.dailyEntries.slice(-7).map(m=>({date:new Date(m.date).toLocaleDateString("en-US",{weekday:"short"}),mood:m.mood,triggers:m.triggers})))||[],l=async()=>{try{const m=await n(),h=new Blob([m],{type:"application/json"}),g=URL.createObjectURL(h),p=document.createElement("a");p.href=g,p.download="recovery-progress.json",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g)}catch(m){console.error("Error exporting data:",m)}};if(t)return r.jsx(K,{className:"h-full",children:r.jsx($,{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const u=o();return r.jsxs(K,{children:[r.jsxs(X,{className:"flex flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(sr,{className:"h-5 w-5 text-primary"}),"Recovery Progress"]}),r.jsx(Q,{children:"Track your recovery journey"})]}),r.jsx(A,{variant:"ghost",size:"icon",onClick:l,children:r.jsx($e,{className:"h-4 w-4"})})]}),r.jsxs($,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-primary/10 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(Pe,{className:"h-4 w-4 text-primary"}),"Streak"]}),r.jsxs("div",{className:"text-2xl font-bold mt-1",children:[u," days"]})]}),r.jsxs("div",{className:"bg-primary/10 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(nr,{className:"h-4 w-4 text-primary"}),"Avg Mood"]}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:(e==null?void 0:e.stats.averageMood.toFixed(1))||"0.0"})]}),r.jsxs("div",{className:"bg-primary/10 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(We,{className:"h-4 w-4 text-primary"}),"Total Days"]}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:(e==null?void 0:e.stats.totalDays)||0})]})]}),r.jsx("div",{className:"h-[300px] mt-4",children:r.jsx(fr,{width:"100%",height:"100%",children:r.jsxs(hr,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(xr,{strokeDasharray:"3 3",stroke:s.grid}),r.jsx(br,{dataKey:"date",stroke:s.text,tick:{fill:s.text}}),r.jsx(yr,{stroke:s.text,tick:{fill:s.text},domain:[0,5]}),r.jsx(vr,{contentStyle:{backgroundColor:i==="dark"?"#1F2937":"#FFFFFF",borderColor:s.grid}}),r.jsx(wr,{}),r.jsx(Te,{type:"monotone",dataKey:"mood",stroke:s.mood,name:"Mood Level",strokeWidth:2,dot:{stroke:s.mood,strokeWidth:2}}),r.jsx(Te,{type:"monotone",dataKey:"triggers",stroke:s.triggers,name:"Triggers",strokeWidth:2,dot:{stroke:s.triggers,strokeWidth:2}})]})})}),u>=7&&r.jsxs(U,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:[r.jsx(Pe,{className:"h-4 w-4"}),r.jsxs(H,{children:["Congratulations! You've maintained a ",u,"-day streak. Keep up the great work!"]})]})]})]})},Yo=()=>{const[e,t]=d.useState(!1),o=[{name:"Emergency Services",description:"For immediate life-threatening emergencies",phone:"911",available24h:!0,isEmergency:!0},{name:"988 Suicide & Crisis Lifeline",description:"24/7 suicide prevention and crisis support",phone:"988",available24h:!0,isEmergency:!0},{name:"SAMHSA's National Helpline",description:"Treatment referral and information service",phone:"1-800-662-4357",available24h:!0,isEmergency:!1}],n=[{title:"Find Local AA Meetings",description:"Search for Alcoholics Anonymous meetings in your area",url:"https://www.aa.org/find-aa"},{title:"SAMHSA Treatment Locator",description:"Find treatment facilities near you",url:"https://findtreatment.gov/"}],i=a=>{window.location.href=`tel:${a.phone}`},s=a=>{window.open(a,"_blank","noopener,noreferrer")};return r.jsxs(K,{className:"border-red-100 dark:border-red-900",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(le,{className:"h-5 w-5"}),"Emergency Support"]}),r.jsx(Q,{children:"Immediate help and resources available 24/7"})]}),r.jsxs($,{className:"space-y-4",children:[r.jsxs(U,{variant:"destructive",children:[r.jsx(le,{className:"h-4 w-4"}),r.jsx(ce,{children:"In Immediate Danger?"}),r.jsx(H,{children:"If you or someone else is in immediate danger, call emergency services (911) right away."})]}),r.jsxs("div",{className:"space-y-2",children:[o.filter(a=>a.isEmergency||e).map((a,l)=>r.jsxs(A,{variant:a.isEmergency?"destructive":"secondary",className:"w-full flex items-center justify-between text-left",onClick:()=>i(a),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ar,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:a.name}),r.jsx("div",{className:"text-xs opacity-90",children:a.description})]})]}),a.available24h&&r.jsx("span",{className:"text-xs bg-background/10 px-2 py-1 rounded-full",children:"24/7"})]},l)),o.length>2&&r.jsx(A,{variant:"outline",className:"w-full mt-2",onClick:()=>t(!e),children:e?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"h-4 w-4"}),"Show Less"]}):r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(lr,{className:"h-4 w-4"}),"Show More Resources"]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[r.jsx(cr,{className:"h-4 w-4"}),"Additional Support"]}),n.map((a,l)=>r.jsxs(A,{variant:"outline",className:"w-full justify-between",onClick:()=>a.url&&s(a.url),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:a.title}),r.jsx("div",{className:"text-xs text-muted-foreground",children:a.description})]})]}),r.jsx(ur,{className:"h-4 w-4"})]},l))]})]})]})},Bt=d.forwardRef(({className:e,...t},o)=>r.jsx("textarea",{className:C("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...t}));Bt.displayName="Textarea";const Jo=()=>{const[e,t]=d.useState(""),[o,n]=d.useState(!1),{analyzeContent:i}=vt(),[s,a]=d.useState(null),[l,u]=d.useState({status:"idle"}),m=c=>typeof(c==null?void 0:c.sentiment)=="number"&&typeof(c==null?void 0:c.magnitude)=="number"&&typeof(c==null?void 0:c.primaryEmotion)=="string"&&Array.isArray(c==null?void 0:c.secondaryEmotions),h=c=>{var f,x,S;return!c.triggers||Array.isArray((f=c==null?void 0:c.triggers)==null?void 0:f.identifiedTriggers)&&c.triggers.identifiedTriggers.every(y=>typeof y.type=="string"&&typeof y.description=="string"&&typeof y.severity=="string"&&Array.isArray(y.recommendations))&&typeof((x=c==null?void 0:c.triggers)==null?void 0:x.riskLevel)=="string"&&typeof((S=c==null?void 0:c.triggers)==null?void 0:S.confidenceScore)=="number"},g=c=>!c.recommendations||Array.isArray(c==null?void 0:c.recommendations)&&c.recommendations.every(f=>typeof f.title=="string"&&typeof f.description=="string"),p=c=>{if(console.debug("Validating analysis structure:",JSON.stringify(c,null,2)),!m(c))throw new Error("Invalid sentiment data structure");if(!h(c))throw new Error("Invalid triggers data structure");if(!g(c))throw new Error("Invalid recommendations data structure");return!0},b=d.useCallback(async(c=0)=>{var f;if(!e.trim()){u({status:"error",error:"Please enter some content to analyze"});return}n(!0),u({status:"loading"});try{const x={id:Date.now().toString(),content:e.trim(),timestamp:new Date().toISOString()},S=await i(e);if(console.debug("Received analysis result:",S),!S||!p(S))throw new Error("Invalid or incomplete analysis data received");x.analysis={sentiment:S.sentiment,triggers:((f=S.triggers)==null?void 0:f.identifiedTriggers.map(j=>j.description))||[],recommendations:S.recommendations||[]},console.debug("Updated entry with analysis:",x),a(x),u({status:"success"});const y=JSON.parse(localStorage.getItem("journalEntries")||"[]");localStorage.setItem("journalEntries",JSON.stringify([...y,x]))}catch(x){if(console.error("Error analyzing journal entry:",x),c<2){const S=Math.pow(2,c)*1e3;setTimeout(()=>b(c+1),S);return}u({status:"error",error:x instanceof Error?x.message:"Failed to analyze entry"}),a(null)}finally{n(!1)}},[e,i]),w=c=>c>.5?r.jsx(pe,{className:"w-5 h-5 text-green-500"}):c<-.5?r.jsx(le,{className:"w-5 h-5 text-red-500"}):r.jsx(ge,{className:"w-5 h-5 text-blue-500"});return r.jsxs(K,{className:"w-full",children:[r.jsxs(X,{children:[r.jsxs(Z,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"w-6 h-6 text-primary"}),"Smart Journal",r.jsx("span",{className:"ml-2 inline-flex items-center rounded-md bg-primary/10 px-2 py-1 text-xs font-medium text-primary",children:"AI-Powered"})]}),r.jsx(Q,{children:"Write about your day, thoughts, or feelings. Our AI will provide helpful insights."})]}),r.jsxs($,{className:"space-y-4",children:[l.status==="error"&&r.jsxs(U,{variant:"destructive",children:[r.jsx(ce,{children:"Analysis Failed"}),r.jsx(H,{children:l.error})]}),r.jsx(Bt,{placeholder:"How are you feeling today? What's on your mind?",className:"min-h-[200px] resize-none",value:e,onChange:c=>t(c.target.value),disabled:o}),(s==null?void 0:s.analysis)&&r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-4 bg-card border rounded-lg",children:[r.jsx(gr,{className:"w-5 h-5 text-primary"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:"AI Insights"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w(s.analysis.sentiment),r.jsx("span",{className:"text-sm text-muted-foreground",children:s.analysis.sentiment>.5?"Your entry shows positive emotions and resilience.":s.analysis.sentiment<-.5?"You might be going through a challenging time.":"Your emotions appear balanced."})]})]})]}),s.analysis.triggers.length>0&&r.jsxs(U,{children:[r.jsx(ce,{children:"Potential Triggers Identified"}),r.jsx(H,{children:r.jsx("ul",{className:"list-disc pl-4 mt-2",children:s.analysis.triggers.map((c,f)=>r.jsx("li",{className:"text-sm",children:c},f))})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Mood Regulation Suggestions"}),r.jsx("div",{className:"grid gap-4",children:s.analysis.recommendations.map((c,f)=>r.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pe,{className:"w-4 h-4 text-primary"}),r.jsx("h5",{className:"font-medium",children:c.title})]}),r.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:c.description}),c.emotionTarget&&r.jsxs("span",{className:"mt-2 inline-flex items-center rounded-full bg-primary/10 px-2 py-1 text-xs",children:["Targets: ",c.emotionTarget]})]},f))})]})]})]}),r.jsxs(Ee,{className:"justify-between",children:[r.jsx(A,{variant:"outline",onClick:()=>t(""),disabled:!e||o,children:"Clear"}),r.jsx(A,{onClick:()=>b(),disabled:!e.trim()||o,className:"flex items-center gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ge,{className:"w-4 h-4"}),"Analyze Entry"]})})]})]})};function qo(){return r.jsx(Ze,{children:r.jsx(wo,{children:r.jsx(ko,{children:r.jsx(ho,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Recovery Dashboard"})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx($o,{}),r.jsx(Wo,{}),r.jsx(Jo,{}),r.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:r.jsx(Yo,{})})]})]})})})})})}class Xo extends je.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return console.error("Error caught by boundary:",t),{hasError:!0}}render(){return this.state.hasError?r.jsxs("div",{className:"p-4",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Application Error"}),r.jsx("p",{className:"mt-2",children:"Please check the console for more details."})]}):this.props.children}}const Gt=document.getElementById("root");if(!Gt)throw new Error("Failed to find the root element");fe.createRoot(Gt).render(r.jsx(je.StrictMode,{children:r.jsx(Xo,{children:r.jsx(qo,{})})}));
//# sourceMappingURL=index-Dp9fUElt.js.map
